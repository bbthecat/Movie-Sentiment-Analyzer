<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Movie Sentiment Analyzer ‚Äî Elegant</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+Thai:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <div id="app">
    <header class="hero glass fade-in">
      <div class="hero-inner">
        <div class="brand">
          <div class="logo">üé¨</div>
          <div class="titles">
            <h1>Movie Sentiment Analyzer</h1>
            <p>OMDb metadata ‚Ä¢ TMDb user reviews ‚Ä¢ JSON ‚Ä¢ Functional pipeline</p>
          </div>
        </div>
        <div class="searchbar row">
          <input id="searchQuery" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏ô‡∏±‡∏á ‡πÄ‡∏ä‡πà‡∏ô Dune, Interstellar, Joker..." />
          <button id="btnSearch" class="btn btn-primary">
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M21 21l-4.3-4.3M10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
          </button>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="card glass lift">
        <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</h2>
        <div id="searchGrid" class="grid"></div>
      </section>

      <section class="card glass lift">
        <div class="section-head">
          <h2>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏û‡∏¢‡∏ô‡∏ï‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</h2>
          <div class="row id-row">
            <input id="imdbId" placeholder="‡πÄ‡∏ä‡πà‡∏ô tt1160419" />
            <button id="btnFetch" class="btn btn-secondary">
              <svg viewBox="0 0 24 24" width="18" height="18"><path d="M3 12h18M12 3v18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            </button>
          </div>
        </div>
        <div id="movieCard" class="movie-card"></div>
      </section>

      <section class="card glass lift">
        <h2>‡∏£‡∏µ‡∏ß‡∏¥‡∏ß & ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å</h2>

        <div class="toolbar">
          <label class="file btn btn-muted">
            <input type="file" id="reviewsFile" hidden />
            <span>
              <svg viewBox="0 0 24 24" width="18" height="18"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              Upload
            </span>
          </label>

          <button id="btnUseSample" class="btn btn-muted">
            <svg viewBox="0 0 24 24" width="18" height="18"><path d="M4 12h16M4 12l4-4m-4 4l4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            Use Sample
          </button>

          <button id="btnGenMock" class="btn btn-muted">
            <svg viewBox="0 0 24 24" width="18" height="18"><path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            Generate Mock Reviews
          </button>

          <button id="btnFetchTMDb" class="btn btn-primary">
            <svg viewBox="0 0 24 24" width="18" height="18"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            Fetch TMDb Reviews
          </button>

          <div class="spacer"></div>

          <button id="btnExport" class="btn btn-outline">
            <svg viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5-5 5 5M12 5v12M5 19h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            Export CSV
          </button>
        </div>

        <div class="analytics">
          <div class="chart-panel glass">
            <h3>‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å</h3>
            <div id="donutChart" class="chart"></div>
          </div>
          <div class="chart-panel glass">
            <h3>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏µ‡∏ß‡∏¥‡∏ß</h3>
            <div id="barChart" class="chart"></div>
          </div>
        </div>

        <div id="statsCards" class="stats"></div>

        <div class="reviews">
          <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡∏ß‡∏¥‡∏ß (‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</h3>
          <div class="composer glass">
            <textarea id="newComment" rows="3" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà... (‡∏Å‡∏î Ctrl+Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á)"></textarea>
            <div class="composer-foot">
              <div class="muted">
                <span id="commentCounter">0 / 280</span>
              </div>
              <div class="actions">
                <button id="btnAddComment" class="btn btn-secondary">
                  <svg viewBox="0 0 24 24" width="18" height="18"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                  Add Comment
                </button>
              </div>
            </div>
          </div>
          <div id="reviewsList" class="reviews-list"></div>
        </div>
      </section>

      <section class="card glass lift">
        <div class="section-header">
          <h2>üß† ‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß</h2>
          <p class="section-desc">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</p>
        </div>
        
        <div class="text-analysis-container">
          <div class="input-section">
            <div class="input-wrapper">
              <textarea id="oneText" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡πÄ‡∏ä‡πà‡∏ô: 'This movie is absolutely amazing!' ‡∏´‡∏£‡∏∑‡∏≠ '‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏¢‡πà‡∏°‡∏≤‡∏Å'..." rows="3"></textarea>
              <div class="input-footer">
                <div class="char-counter">
                  <span id="textCounter">0</span> ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
                </div>
                <button id="btnOneText" class="btn btn-primary btn-analyze">
                  <svg viewBox="0 0 24 24" width="18" height="18">
                    <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-5 0v-15A2.5 2.5 0 0 1 9.5 2z" fill="currentColor"/>
                    <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 5 0v-15A2.5 2.5 0 0 0 14.5 2z" fill="currentColor"/>
                  </svg>
                  ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
                </button>
              </div>
            </div>
          </div>
          
          <div id="analysisResult" class="analysis-result hidden">
            <div class="result-header">
              <h3>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h3>
              <div class="confidence-badge">
                <span class="confidence-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à:</span>
                <span id="confidenceScore" class="confidence-value">0%</span>
              </div>
            </div>
            
            <div class="sentiment-display">
              <div class="sentiment-card">
                <div class="sentiment-icon">
                  <span id="sentimentEmoji">üòê</span>
                </div>
                <div class="sentiment-info">
                  <div class="sentiment-label" id="sentimentLabel">Neutral</div>
                  <div class="sentiment-score" id="sentimentScore">0.50</div>
                </div>
              </div>
              
              <div class="sentiment-bar">
                <div class="bar-track">
                  <div id="sentimentBar" class="bar-fill"></div>
                </div>
                <div class="bar-labels">
                  <span class="label-negative">Negative</span>
                  <span class="label-neutral">Neutral</span>
                  <span class="label-positive">Positive</span>
                </div>
              </div>
            </div>
            
            <div class="analysis-details">
              <div class="detail-item">
                <span class="detail-label">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</span>
                <span id="analyzedText" class="detail-value"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</span>
                <span id="analysisTime" class="detail-value"></span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="foot glass">
      <div class="container foot-inner">
        <span>Built for Final Term Project ‚Ä¢ FastAPI + OMDb + TMDb + Hugging Face</span>
      </div>
    </footer>

    <!-- Toasts & Spinner -->
    <div id="toastWrap" class="toast-wrap"></div>
    <div id="spinner" class="spinner hidden">
      <div class="dot"></div><div class="dot"></div><div class="dot"></div>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
